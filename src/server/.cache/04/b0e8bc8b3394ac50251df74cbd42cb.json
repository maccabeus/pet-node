{"id":"Dkhp","dependencies":[{"name":"C:\\xampp\\htdocs\\pet\\src\\server\\package.json","includedInParent":true,"mtime":1607412288975},{"name":"C:\\xampp\\htdocs\\pet\\src\\server\\.babelrc","includedInParent":true,"mtime":1607404923905},{"name":"C:\\xampp\\htdocs\\pet\\src\\server\\node_modules\\mongodb\\package.json","includedInParent":true,"mtime":1606977113336},{"name":"./operation","loc":{"line":4,"column":30},"parent":"C:\\xampp\\htdocs\\pet\\src\\server\\node_modules\\mongodb\\lib\\operations\\create_indexes.js","resolved":"C:\\xampp\\htdocs\\pet\\src\\server\\node_modules\\mongodb\\lib\\operations\\operation.js"},{"name":"./command_v2","loc":{"line":5,"column":35},"parent":"C:\\xampp\\htdocs\\pet\\src\\server\\node_modules\\mongodb\\lib\\operations\\create_indexes.js","resolved":"C:\\xampp\\htdocs\\pet\\src\\server\\node_modules\\mongodb\\lib\\operations\\command_v2.js"},{"name":"../core","loc":{"line":6,"column":27},"parent":"C:\\xampp\\htdocs\\pet\\src\\server\\node_modules\\mongodb\\lib\\operations\\create_indexes.js","resolved":"C:\\xampp\\htdocs\\pet\\src\\server\\node_modules\\mongodb\\lib\\core\\index.js"},{"name":"../utils","loc":{"line":7,"column":34},"parent":"C:\\xampp\\htdocs\\pet\\src\\server\\node_modules\\mongodb\\lib\\operations\\create_indexes.js","resolved":"C:\\xampp\\htdocs\\pet\\src\\server\\node_modules\\mongodb\\lib\\utils.js"},{"name":"../core/utils","loc":{"line":8,"column":31},"parent":"C:\\xampp\\htdocs\\pet\\src\\server\\node_modules\\mongodb\\lib\\operations\\create_indexes.js","resolved":"C:\\xampp\\htdocs\\pet\\src\\server\\node_modules\\mongodb\\lib\\core\\utils.js"}],"generated":{"js":"\"use strict\";const e=require(\"./operation\").Aspect,n=require(\"./operation\").defineAspects,o=require(\"./command_v2\"),r=require(\"../core\").MongoError,t=require(\"../utils\").parseIndexOptions,i=require(\"../core/utils\").maxWireVersion,s=new Set([\"background\",\"unique\",\"name\",\"partialFilterExpression\",\"sparse\",\"expireAfterSeconds\",\"storageEngine\",\"collation\",\"weights\",\"default_language\",\"language_override\",\"textIndexVersion\",\"2dsphereIndexVersion\",\"bits\",\"min\",\"max\",\"bucketSize\",\"wildcardProjection\"]);class a extends o{constructor(e,n,o,r){if(super(e,r),this.collection=n,Array.isArray(o)&&!Array.isArray(o[0]))this.indexes=o;else{this.onlyReturnNameOfCreatedIndex=!0;const e=t(o),n={name:\"string\"==typeof r.name?r.name:e.name,key:e.fieldHash};for(let o in r)s.has(o)&&(n[o]=r[o]);this.indexes=[n]}}execute(e,n){const o=this.options,t=this.indexes,s=i(e);for(let i=0;i<t.length;i++){if(t[i].collation&&s<5)return void n(new r(\"Server \".concat(e.name,\", which reports wire version \").concat(s,\", does not support collation\")));if(null==t[i].name){const e=[];for(let n in t[i].key)e.push(\"\".concat(n,\"_\").concat(t[i].key[n]));t[i].name=e.join(\"_\")}}const a={createIndexes:this.collection,indexes:t};if(null!=o.commitQuorum){if(s<9)return void n(new r(\"`commitQuorum` option for `createIndexes` not supported on servers < 4.4\"));a.commitQuorum=o.commitQuorum}this.options.collation=void 0,super.executeCommand(e,a,(e,o)=>{e?n(e):n(null,this.onlyReturnNameOfCreatedIndex?t[0].name:o)})}}n(a,[e.WRITE_OPERATION,e.EXECUTE_WITH_SELECTION]),module.exports=a;"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"Aspect","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"require","original":{"line":3,"column":15},"generated":{"line":1,"column":21}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":3,"column":23},"generated":{"line":1,"column":29}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"Aspect","original":{"line":3,"column":38},"generated":{"line":1,"column":44}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"defineAspects","original":{"line":4,"column":6},"generated":{"line":1,"column":51}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"require","original":{"line":4,"column":22},"generated":{"line":1,"column":53}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":4,"column":30},"generated":{"line":1,"column":61}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"defineAspects","original":{"line":4,"column":45},"generated":{"line":1,"column":76}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"CommandOperationV2","original":{"line":5,"column":6},"generated":{"line":1,"column":90}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"require","original":{"line":5,"column":27},"generated":{"line":1,"column":92}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":5,"column":35},"generated":{"line":1,"column":100}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"MongoError","original":{"line":6,"column":6},"generated":{"line":1,"column":116}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"require","original":{"line":6,"column":19},"generated":{"line":1,"column":118}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":6,"column":27},"generated":{"line":1,"column":126}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"MongoError","original":{"line":6,"column":38},"generated":{"line":1,"column":137}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"parseIndexOptions","original":{"line":7,"column":6},"generated":{"line":1,"column":148}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"require","original":{"line":7,"column":26},"generated":{"line":1,"column":150}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":7,"column":34},"generated":{"line":1,"column":158}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"parseIndexOptions","original":{"line":7,"column":46},"generated":{"line":1,"column":170}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"maxWireVersion","original":{"line":8,"column":6},"generated":{"line":1,"column":188}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"require","original":{"line":8,"column":23},"generated":{"line":1,"column":190}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":8,"column":31},"generated":{"line":1,"column":198}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"maxWireVersion","original":{"line":8,"column":48},"generated":{"line":1,"column":215}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"VALID_INDEX_OPTIONS","original":{"line":10,"column":6},"generated":{"line":1,"column":230}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":10,"column":28},"generated":{"line":1,"column":232}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"Set","original":{"line":10,"column":32},"generated":{"line":1,"column":236}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":10,"column":36},"generated":{"line":1,"column":240}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":11,"column":2},"generated":{"line":1,"column":241}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":12,"column":2},"generated":{"line":1,"column":254}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":13,"column":2},"generated":{"line":1,"column":263}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":14,"column":2},"generated":{"line":1,"column":270}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":15,"column":2},"generated":{"line":1,"column":296}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":16,"column":2},"generated":{"line":1,"column":305}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":17,"column":2},"generated":{"line":1,"column":326}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":18,"column":2},"generated":{"line":1,"column":342}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":21,"column":2},"generated":{"line":1,"column":354}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":22,"column":2},"generated":{"line":1,"column":364}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":23,"column":2},"generated":{"line":1,"column":383}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":24,"column":2},"generated":{"line":1,"column":403}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":27,"column":2},"generated":{"line":1,"column":422}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":30,"column":2},"generated":{"line":1,"column":445}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":31,"column":2},"generated":{"line":1,"column":452}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":32,"column":2},"generated":{"line":1,"column":458}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":35,"column":2},"generated":{"line":1,"column":464}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":38,"column":2},"generated":{"line":1,"column":477}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":41,"column":0},"generated":{"line":1,"column":500}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"CreateIndexesOperation","original":{"line":41,"column":6},"generated":{"line":1,"column":506}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"CommandOperationV2","original":{"line":41,"column":37},"generated":{"line":1,"column":516}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"constructor","original":{"line":45,"column":2},"generated":{"line":1,"column":518}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"parent","original":{"line":45,"column":14},"generated":{"line":1,"column":530}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"collection","original":{"line":45,"column":22},"generated":{"line":1,"column":532}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":45,"column":34},"generated":{"line":1,"column":534}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"options","original":{"line":45,"column":43},"generated":{"line":1,"column":536}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":54,"column":8},"generated":{"line":1,"column":539}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"parent","original":{"line":46,"column":10},"generated":{"line":1,"column":542}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"parent","original":{"line":46,"column":10},"generated":{"line":1,"column":548}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"options","original":{"line":46,"column":18},"generated":{"line":1,"column":550}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"collection","original":{"line":47,"column":9},"generated":{"line":1,"column":553}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"collection","original":{"line":47,"column":9},"generated":{"line":1,"column":558}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"collection","original":{"line":47,"column":22},"generated":{"line":1,"column":569}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"Array","original":{"line":54,"column":9},"generated":{"line":1,"column":571}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"isArray","original":{"line":54,"column":15},"generated":{"line":1,"column":577}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":54,"column":23},"generated":{"line":1,"column":585}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"Array","original":{"line":54,"column":35},"generated":{"line":1,"column":590}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"isArray","original":{"line":54,"column":41},"generated":{"line":1,"column":596}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":54,"column":49},"generated":{"line":1,"column":604}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":54,"column":57},"generated":{"line":1,"column":606}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":73,"column":9},"generated":{"line":1,"column":610}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":73,"column":9},"generated":{"line":1,"column":615}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":73,"column":19},"generated":{"line":1,"column":623}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":54,"column":8},"generated":{"line":1,"column":629}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"onlyReturnNameOfCreatedIndex","original":{"line":55,"column":11},"generated":{"line":1,"column":630}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"onlyReturnNameOfCreatedIndex","original":{"line":55,"column":11},"generated":{"line":1,"column":635}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":55,"column":42},"generated":{"line":1,"column":665}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexParameters","original":{"line":58,"column":12},"generated":{"line":1,"column":667}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexParameters","original":{"line":58,"column":12},"generated":{"line":1,"column":673}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"parseIndexOptions","original":{"line":58,"column":30},"generated":{"line":1,"column":675}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":58,"column":48},"generated":{"line":1,"column":677}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexSpec","original":{"line":62,"column":12},"generated":{"line":1,"column":680}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":62,"column":24},"generated":{"line":1,"column":682}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"name","original":{"line":62,"column":26},"generated":{"line":1,"column":683}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":60,"column":43},"generated":{"line":1,"column":688}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"options","original":{"line":60,"column":26},"generated":{"line":1,"column":705}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"name","original":{"line":60,"column":34},"generated":{"line":1,"column":707}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"options","original":{"line":60,"column":54},"generated":{"line":1,"column":712}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"name","original":{"line":60,"column":62},"generated":{"line":1,"column":714}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexParameters","original":{"line":60,"column":69},"generated":{"line":1,"column":719}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"name","original":{"line":60,"column":85},"generated":{"line":1,"column":721}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"key","original":{"line":62,"column":32},"generated":{"line":1,"column":726}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexParameters","original":{"line":62,"column":37},"generated":{"line":1,"column":730}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"fieldHash","original":{"line":62,"column":53},"generated":{"line":1,"column":732}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":64,"column":11},"generated":{"line":1,"column":743}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":64,"column":11},"generated":{"line":1,"column":747}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"optionName","original":{"line":64,"column":15},"generated":{"line":1,"column":751}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"options","original":{"line":64,"column":29},"generated":{"line":1,"column":756}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"VALID_INDEX_OPTIONS","original":{"line":65,"column":12},"generated":{"line":1,"column":758}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"has","original":{"line":65,"column":32},"generated":{"line":1,"column":760}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"optionName","original":{"line":65,"column":36},"generated":{"line":1,"column":764}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexSpec","original":{"line":66,"column":10},"generated":{"line":1,"column":769}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"optionName","original":{"line":66,"column":20},"generated":{"line":1,"column":771}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"options","original":{"line":66,"column":34},"generated":{"line":1,"column":774}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"optionName","original":{"line":66,"column":42},"generated":{"line":1,"column":776}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":69,"column":11},"generated":{"line":1,"column":780}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":69,"column":11},"generated":{"line":1,"column":785}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":69,"column":21},"generated":{"line":1,"column":793}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexSpec","original":{"line":69,"column":22},"generated":{"line":1,"column":794}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"execute","original":{"line":79,"column":2},"generated":{"line":1,"column":798}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"server","original":{"line":79,"column":10},"generated":{"line":1,"column":806}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"callback","original":{"line":79,"column":18},"generated":{"line":1,"column":808}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"options","original":{"line":80,"column":10},"generated":{"line":1,"column":811}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"options","original":{"line":80,"column":10},"generated":{"line":1,"column":817}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":80,"column":20},"generated":{"line":1,"column":819}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"options","original":{"line":80,"column":25},"generated":{"line":1,"column":824}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":81,"column":10},"generated":{"line":1,"column":832}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":81,"column":20},"generated":{"line":1,"column":834}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":81,"column":25},"generated":{"line":1,"column":839}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"serverWireVersion","original":{"line":83,"column":10},"generated":{"line":1,"column":847}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"maxWireVersion","original":{"line":83,"column":30},"generated":{"line":1,"column":849}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"server","original":{"line":83,"column":45},"generated":{"line":1,"column":851}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":86,"column":9},"generated":{"line":1,"column":854}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":86,"column":9},"generated":{"line":1,"column":858}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"i","original":{"line":86,"column":13},"generated":{"line":1,"column":862}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":86,"column":17},"generated":{"line":1,"column":864}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"i","original":{"line":86,"column":20},"generated":{"line":1,"column":866}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":86,"column":24},"generated":{"line":1,"column":868}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"length","original":{"line":86,"column":32},"generated":{"line":1,"column":870}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"i","original":{"line":86,"column":40},"generated":{"line":1,"column":877}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":86,"column":45},"generated":{"line":1,"column":881}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":88,"column":10},"generated":{"line":1,"column":882}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":88,"column":10},"generated":{"line":1,"column":885}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"i","original":{"line":88,"column":18},"generated":{"line":1,"column":887}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"collation","original":{"line":88,"column":21},"generated":{"line":1,"column":890}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"serverWireVersion","original":{"line":88,"column":34},"generated":{"line":1,"column":901}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":88,"column":54},"generated":{"line":1,"column":903}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":94,"column":8},"generated":{"line":1,"column":905}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"callback","original":{"line":89,"column":8},"generated":{"line":1,"column":917}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":90,"column":10},"generated":{"line":1,"column":919}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"MongoError","original":{"line":90,"column":14},"generated":{"line":1,"column":923}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"server","original":{"line":91,"column":22},"generated":{"line":1,"column":925}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"server","original":{"line":91,"column":22},"generated":{"line":1,"column":935}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"server","original":{"line":91,"column":22},"generated":{"line":1,"column":942}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"name","original":{"line":91,"column":29},"generated":{"line":1,"column":944}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"serverWireVersion","original":{"line":91,"column":65},"generated":{"line":1,"column":949}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"serverWireVersion","original":{"line":91,"column":65},"generated":{"line":1,"column":982}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"serverWireVersion","original":{"line":91,"column":65},"generated":{"line":1,"column":989}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":89,"column":16},"generated":{"line":1,"column":991}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":97,"column":10},"generated":{"line":1,"column":1025}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":97,"column":29},"generated":{"line":1,"column":1028}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":97,"column":10},"generated":{"line":1,"column":1034}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"i","original":{"line":97,"column":18},"generated":{"line":1,"column":1036}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"name","original":{"line":97,"column":21},"generated":{"line":1,"column":1039}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":97,"column":35},"generated":{"line":1,"column":1044}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"keys","original":{"line":98,"column":14},"generated":{"line":1,"column":1045}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"keys","original":{"line":98,"column":14},"generated":{"line":1,"column":1051}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":98,"column":21},"generated":{"line":1,"column":1053}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":100,"column":13},"generated":{"line":1,"column":1056}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":100,"column":13},"generated":{"line":1,"column":1060}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"name","original":{"line":100,"column":17},"generated":{"line":1,"column":1064}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":100,"column":25},"generated":{"line":1,"column":1069}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"i","original":{"line":100,"column":33},"generated":{"line":1,"column":1071}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"key","original":{"line":100,"column":36},"generated":{"line":1,"column":1074}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"keys","original":{"line":101,"column":10},"generated":{"line":1,"column":1078}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"push","original":{"line":101,"column":15},"generated":{"line":1,"column":1080}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"name","original":{"line":101,"column":23},"generated":{"line":1,"column":1085}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"name","original":{"line":101,"column":23},"generated":{"line":1,"column":1088}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"name","original":{"line":101,"column":23},"generated":{"line":1,"column":1095}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":101,"column":31},"generated":{"line":1,"column":1097}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":101,"column":31},"generated":{"line":1,"column":1102}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":101,"column":31},"generated":{"line":1,"column":1109}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"i","original":{"line":101,"column":39},"generated":{"line":1,"column":1111}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"key","original":{"line":101,"column":42},"generated":{"line":1,"column":1114}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"name","original":{"line":101,"column":46},"generated":{"line":1,"column":1118}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":105,"column":8},"generated":{"line":1,"column":1123}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"i","original":{"line":105,"column":16},"generated":{"line":1,"column":1125}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"name","original":{"line":105,"column":19},"generated":{"line":1,"column":1128}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"keys","original":{"line":105,"column":26},"generated":{"line":1,"column":1133}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"join","original":{"line":105,"column":31},"generated":{"line":1,"column":1135}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":105,"column":36},"generated":{"line":1,"column":1140}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"cmd","original":{"line":109,"column":10},"generated":{"line":1,"column":1146}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"cmd","original":{"line":109,"column":10},"generated":{"line":1,"column":1152}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":109,"column":16},"generated":{"line":1,"column":1154}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"createIndexes","original":{"line":109,"column":18},"generated":{"line":1,"column":1155}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":109,"column":33},"generated":{"line":1,"column":1169}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"collection","original":{"line":109,"column":38},"generated":{"line":1,"column":1174}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":109,"column":50},"generated":{"line":1,"column":1185}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":109,"column":50},"generated":{"line":1,"column":1193}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"options","original":{"line":111,"column":8},"generated":{"line":1,"column":1196}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":111,"column":32},"generated":{"line":1,"column":1199}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"options","original":{"line":111,"column":8},"generated":{"line":1,"column":1205}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"commitQuorum","original":{"line":111,"column":16},"generated":{"line":1,"column":1207}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":111,"column":38},"generated":{"line":1,"column":1220}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"serverWireVersion","original":{"line":112,"column":10},"generated":{"line":1,"column":1221}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"serverWireVersion","original":{"line":112,"column":10},"generated":{"line":1,"column":1224}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":112,"column":30},"generated":{"line":1,"column":1226}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":116,"column":8},"generated":{"line":1,"column":1228}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"callback","original":{"line":113,"column":8},"generated":{"line":1,"column":1240}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":114,"column":10},"generated":{"line":1,"column":1242}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"MongoError","original":{"line":114,"column":14},"generated":{"line":1,"column":1246}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":114,"column":25},"generated":{"line":1,"column":1248}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"cmd","original":{"line":118,"column":6},"generated":{"line":1,"column":1325}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"commitQuorum","original":{"line":118,"column":10},"generated":{"line":1,"column":1327}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"options","original":{"line":118,"column":25},"generated":{"line":1,"column":1340}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"commitQuorum","original":{"line":118,"column":33},"generated":{"line":1,"column":1342}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"options","original":{"line":122,"column":9},"generated":{"line":1,"column":1355}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"options","original":{"line":122,"column":9},"generated":{"line":1,"column":1360}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"collation","original":{"line":122,"column":17},"generated":{"line":1,"column":1368}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"undefined","original":{"line":122,"column":29},"generated":{"line":1,"column":1383}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"executeCommand","original":{"line":124,"column":10},"generated":{"line":1,"column":1385}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"executeCommand","original":{"line":124,"column":10},"generated":{"line":1,"column":1391}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"server","original":{"line":124,"column":25},"generated":{"line":1,"column":1406}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"cmd","original":{"line":124,"column":33},"generated":{"line":1,"column":1408}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":124,"column":38},"generated":{"line":1,"column":1410}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"err","original":{"line":124,"column":39},"generated":{"line":1,"column":1411}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"result","original":{"line":124,"column":44},"generated":{"line":1,"column":1413}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"err","original":{"line":125,"column":10},"generated":{"line":1,"column":1418}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"callback","original":{"line":126,"column":8},"generated":{"line":1,"column":1420}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"err","original":{"line":126,"column":17},"generated":{"line":1,"column":1422}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"callback","original":{"line":130,"column":6},"generated":{"line":1,"column":1425}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":130,"column":15},"generated":{"line":1,"column":1427}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":130,"column":21},"generated":{"line":1,"column":1432}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"onlyReturnNameOfCreatedIndex","original":{"line":130,"column":26},"generated":{"line":1,"column":1437}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"indexes","original":{"line":130,"column":57},"generated":{"line":1,"column":1466}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":130,"column":65},"generated":{"line":1,"column":1468}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"name","original":{"line":130,"column":68},"generated":{"line":1,"column":1471}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"result","original":{"line":130,"column":75},"generated":{"line":1,"column":1476}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"defineAspects","original":{"line":135,"column":0},"generated":{"line":1,"column":1482}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"CreateIndexesOperation","original":{"line":135,"column":14},"generated":{"line":1,"column":1484}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","original":{"line":135,"column":38},"generated":{"line":1,"column":1486}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"Aspect","original":{"line":135,"column":39},"generated":{"line":1,"column":1487}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"WRITE_OPERATION","original":{"line":135,"column":46},"generated":{"line":1,"column":1489}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"Aspect","original":{"line":135,"column":63},"generated":{"line":1,"column":1505}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"EXECUTE_WITH_SELECTION","original":{"line":135,"column":70},"generated":{"line":1,"column":1507}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"module","original":{"line":137,"column":0},"generated":{"line":1,"column":1532}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"exports","original":{"line":137,"column":7},"generated":{"line":1,"column":1539}},{"source":"../node_modules/mongodb/lib/operations/create_indexes.js","name":"CreateIndexesOperation","original":{"line":137,"column":17},"generated":{"line":1,"column":1547}}],"sources":{"../node_modules/mongodb/lib/operations/create_indexes.js":"'use strict';\n\nconst Aspect = require('./operation').Aspect;\nconst defineAspects = require('./operation').defineAspects;\nconst CommandOperationV2 = require('./command_v2');\nconst MongoError = require('../core').MongoError;\nconst parseIndexOptions = require('../utils').parseIndexOptions;\nconst maxWireVersion = require('../core/utils').maxWireVersion;\n\nconst VALID_INDEX_OPTIONS = new Set([\n  'background',\n  'unique',\n  'name',\n  'partialFilterExpression',\n  'sparse',\n  'expireAfterSeconds',\n  'storageEngine',\n  'collation',\n\n  // text indexes\n  'weights',\n  'default_language',\n  'language_override',\n  'textIndexVersion',\n\n  // 2d-sphere indexes\n  '2dsphereIndexVersion',\n\n  // 2d indexes\n  'bits',\n  'min',\n  'max',\n\n  // geoHaystack Indexes\n  'bucketSize',\n\n  // wildcard indexes\n  'wildcardProjection'\n]);\n\nclass CreateIndexesOperation extends CommandOperationV2 {\n  /**\n   * @ignore\n   */\n  constructor(parent, collection, indexes, options) {\n    super(parent, options);\n    this.collection = collection;\n\n    // createIndex can be called with a variety of styles:\n    //   coll.createIndex('a');\n    //   coll.createIndex({ a: 1 });\n    //   coll.createIndex([['a', 1]]);\n    // createIndexes is always called with an array of index spec objects\n    if (!Array.isArray(indexes) || Array.isArray(indexes[0])) {\n      this.onlyReturnNameOfCreatedIndex = true;\n      // TODO: remove in v4 (breaking change); make createIndex return full response as createIndexes does\n\n      const indexParameters = parseIndexOptions(indexes);\n      // Generate the index name\n      const name = typeof options.name === 'string' ? options.name : indexParameters.name;\n      // Set up the index\n      const indexSpec = { name, key: indexParameters.fieldHash };\n      // merge valid index options into the index spec\n      for (let optionName in options) {\n        if (VALID_INDEX_OPTIONS.has(optionName)) {\n          indexSpec[optionName] = options[optionName];\n        }\n      }\n      this.indexes = [indexSpec];\n      return;\n    }\n\n    this.indexes = indexes;\n  }\n\n  /**\n   * @ignore\n   */\n  execute(server, callback) {\n    const options = this.options;\n    const indexes = this.indexes;\n\n    const serverWireVersion = maxWireVersion(server);\n\n    // Ensure we generate the correct name if the parameter is not set\n    for (let i = 0; i < indexes.length; i++) {\n      // Did the user pass in a collation, check if our write server supports it\n      if (indexes[i].collation && serverWireVersion < 5) {\n        callback(\n          new MongoError(\n            `Server ${server.name}, which reports wire version ${serverWireVersion}, does not support collation`\n          )\n        );\n        return;\n      }\n\n      if (indexes[i].name == null) {\n        const keys = [];\n\n        for (let name in indexes[i].key) {\n          keys.push(`${name}_${indexes[i].key[name]}`);\n        }\n\n        // Set the name\n        indexes[i].name = keys.join('_');\n      }\n    }\n\n    const cmd = { createIndexes: this.collection, indexes };\n\n    if (options.commitQuorum != null) {\n      if (serverWireVersion < 9) {\n        callback(\n          new MongoError('`commitQuorum` option for `createIndexes` not supported on servers < 4.4')\n        );\n        return;\n      }\n      cmd.commitQuorum = options.commitQuorum;\n    }\n\n    // collation is set on each index, it should not be defined at the root\n    this.options.collation = undefined;\n\n    super.executeCommand(server, cmd, (err, result) => {\n      if (err) {\n        callback(err);\n        return;\n      }\n\n      callback(null, this.onlyReturnNameOfCreatedIndex ? indexes[0].name : result);\n    });\n  }\n}\n\ndefineAspects(CreateIndexesOperation, [Aspect.WRITE_OPERATION, Aspect.EXECUTE_WITH_SELECTION]);\n\nmodule.exports = CreateIndexesOperation;\n"},"lineCount":null}},"error":null,"hash":"e2ef89189a0a7386bd900fff0d4a40f1","cacheData":{"env":{}}}