{"id":"J6xv","dependencies":[{"name":"C:\\xampp\\htdocs\\pet\\src\\server\\.babelrc","includedInParent":true,"mtime":1607404923905},{"name":"C:\\xampp\\htdocs\\pet\\src\\server\\package.json","includedInParent":true,"mtime":1607412288975},{"name":"express","loc":{"line":6,"column":23},"parent":"C:\\xampp\\htdocs\\pet\\src\\server\\server.js","resolved":"C:\\xampp\\htdocs\\pet\\src\\server\\node_modules\\express\\index.js"},{"name":"body-parser","loc":{"line":8,"column":26},"parent":"C:\\xampp\\htdocs\\pet\\src\\server\\server.js","resolved":"C:\\xampp\\htdocs\\pet\\src\\server\\node_modules\\body-parser\\index.js"},{"name":"express-session","loc":{"line":9,"column":23},"parent":"C:\\xampp\\htdocs\\pet\\src\\server\\server.js","resolved":"C:\\xampp\\htdocs\\pet\\src\\server\\node_modules\\express-session\\index.js"},{"name":"cors","loc":{"line":10,"column":21},"parent":"C:\\xampp\\htdocs\\pet\\src\\server\\server.js","resolved":"C:\\xampp\\htdocs\\pet\\src\\server\\node_modules\\cors\\lib\\index.js"},{"name":"path","loc":{"line":11,"column":20},"parent":"C:\\xampp\\htdocs\\pet\\src\\server\\server.js","resolved":"C:\\xampp\\htdocs\\pet\\src\\server\\node_modules\\path-browserify\\index.js"},{"name":"./routes/routeManager","loc":{"line":21,"column":28},"parent":"C:\\xampp\\htdocs\\pet\\src\\server\\server.js","resolved":"C:\\xampp\\htdocs\\pet\\src\\server\\routes\\routeManager.js"}],"generated":{"js":"var __dirname = \"C:\\\\xampp\\\\htdocs\\\\pet\\\\src\\\\server\";\nvar e=\"C:\\\\xampp\\\\htdocs\\\\pet\\\\src\\\\server\",r=require(\"express\"),s=r(),o=require(\"body-parser\"),n=require(\"express-session\"),i=require(\"cors\"),t=require(\"path\"),u=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e3;return isNaN(e)||e<=0?r:parseInt(e)},a=u(void 0),c=require(\"./routes/routeManager\");s.use(o.json()),s.use(o.urlencoded({extended:!0}));var d={cookie:{},secret:\"keyboard cat\",resave:!1,saveUninitialized:!0};s.use(n(d)),s.use(i({credentials:!1})),s.set(\"trust proxy\",1),d.cookie.secure=!1;var l=t.join(\"build\");s.use(r.static(l)),s.get(\"*\",function(r,s){s.sendFile(t.resolve(e,l,\"index.html\"))}),s.use(\"/process\",c),s.on(\"error\",function(e){console.log(e.message)}),s.listen(a,function(){console.log(\"Server running. Listening on port \".concat(a))});"},"sourceMaps":{"js":{"mappings":[{"source":"../server.js","original":{"line":62,"column":0},"generated":{"line":2,"column":0}},{"source":"../server.js","original":{"line":62,"column":0},"generated":{"line":2,"column":4}},{"source":"../server.js","original":{"line":62,"column":0},"generated":{"line":2,"column":6}},{"source":"../server.js","name":"express","original":{"line":6,"column":6},"generated":{"line":2,"column":44}},{"source":"../server.js","name":"require","original":{"line":6,"column":15},"generated":{"line":2,"column":46}},{"source":"../server.js","original":{"line":6,"column":23},"generated":{"line":2,"column":54}},{"source":"../server.js","name":"app","original":{"line":7,"column":6},"generated":{"line":2,"column":65}},{"source":"../server.js","name":"express","original":{"line":7,"column":11},"generated":{"line":2,"column":67}},{"source":"../server.js","name":"bodyParser","original":{"line":8,"column":6},"generated":{"line":2,"column":71}},{"source":"../server.js","name":"require","original":{"line":8,"column":18},"generated":{"line":2,"column":73}},{"source":"../server.js","original":{"line":8,"column":26},"generated":{"line":2,"column":81}},{"source":"../server.js","name":"session","original":{"line":9,"column":6},"generated":{"line":2,"column":96}},{"source":"../server.js","name":"require","original":{"line":9,"column":15},"generated":{"line":2,"column":98}},{"source":"../server.js","original":{"line":9,"column":23},"generated":{"line":2,"column":106}},{"source":"../server.js","name":"cors","original":{"line":10,"column":6},"generated":{"line":2,"column":125}},{"source":"../server.js","name":"require","original":{"line":10,"column":13},"generated":{"line":2,"column":127}},{"source":"../server.js","original":{"line":10,"column":21},"generated":{"line":2,"column":135}},{"source":"../server.js","name":"path","original":{"line":11,"column":6},"generated":{"line":2,"column":143}},{"source":"../server.js","name":"require","original":{"line":11,"column":12},"generated":{"line":2,"column":145}},{"source":"../server.js","original":{"line":11,"column":20},"generated":{"line":2,"column":153}},{"source":"../server.js","name":"normalizePort","original":{"line":13,"column":6},"generated":{"line":2,"column":161}},{"source":"../server.js","original":{"line":13,"column":20},"generated":{"line":2,"column":163}},{"source":"../server.js","name":"port","original":{"line":13,"column":21},"generated":{"line":2,"column":172}},{"source":"../server.js","name":"basePort","original":{"line":13,"column":27},"generated":{"line":2,"column":175}},{"source":"../server.js","name":"basePort","original":{"line":13,"column":27},"generated":{"line":2,"column":179}},{"source":"../server.js","original":{"line":13,"column":36},"generated":{"line":2,"column":181}},{"source":"../server.js","original":{"line":13,"column":36},"generated":{"line":2,"column":191}},{"source":"../server.js","original":{"line":13,"column":36},"generated":{"line":2,"column":198}},{"source":"../server.js","original":{"line":13,"column":36},"generated":{"line":2,"column":206}},{"source":"../server.js","original":{"line":13,"column":36},"generated":{"line":2,"column":210}},{"source":"../server.js","original":{"line":13,"column":36},"generated":{"line":2,"column":220}},{"source":"../server.js","original":{"line":13,"column":36},"generated":{"line":2,"column":223}},{"source":"../server.js","original":{"line":13,"column":36},"generated":{"line":2,"column":233}},{"source":"../server.js","original":{"line":13,"column":36},"generated":{"line":2,"column":236}},{"source":"../server.js","name":"isNaN","original":{"line":14,"column":8},"generated":{"line":2,"column":240}},{"source":"../server.js","name":"isNaN","original":{"line":14,"column":8},"generated":{"line":2,"column":247}},{"source":"../server.js","name":"port","original":{"line":14,"column":14},"generated":{"line":2,"column":253}},{"source":"../server.js","name":"port","original":{"line":14,"column":23},"generated":{"line":2,"column":257}},{"source":"../server.js","original":{"line":14,"column":30},"generated":{"line":2,"column":260}},{"source":"../server.js","name":"basePort","original":{"line":15,"column":15},"generated":{"line":2,"column":262}},{"source":"../server.js","name":"parseInt","original":{"line":17,"column":15},"generated":{"line":2,"column":264}},{"source":"../server.js","name":"port","original":{"line":17,"column":24},"generated":{"line":2,"column":273}},{"source":"../server.js","name":"port","original":{"line":19,"column":7},"generated":{"line":2,"column":277}},{"source":"../server.js","name":"normalizePort","original":{"line":19,"column":14},"generated":{"line":2,"column":279}},{"source":"../server.js","original":{"line":19,"column":0},"generated":{"line":2,"column":286}},{"source":"../server.js","name":"routeManager","original":{"line":21,"column":6},"generated":{"line":2,"column":289}},{"source":"../server.js","name":"require","original":{"line":21,"column":20},"generated":{"line":2,"column":291}},{"source":"../server.js","original":{"line":21,"column":28},"generated":{"line":2,"column":299}},{"source":"../server.js","name":"app","original":{"line":23,"column":0},"generated":{"line":2,"column":324}},{"source":"../server.js","name":"use","original":{"line":23,"column":4},"generated":{"line":2,"column":326}},{"source":"../server.js","name":"bodyParser","original":{"line":23,"column":8},"generated":{"line":2,"column":330}},{"source":"../server.js","name":"json","original":{"line":23,"column":19},"generated":{"line":2,"column":332}},{"source":"../server.js","name":"app","original":{"line":24,"column":0},"generated":{"line":2,"column":340}},{"source":"../server.js","name":"use","original":{"line":24,"column":4},"generated":{"line":2,"column":342}},{"source":"../server.js","name":"bodyParser","original":{"line":24,"column":8},"generated":{"line":2,"column":346}},{"source":"../server.js","name":"urlencoded","original":{"line":24,"column":19},"generated":{"line":2,"column":348}},{"source":"../server.js","original":{"line":24,"column":30},"generated":{"line":2,"column":359}},{"source":"../server.js","name":"extended","original":{"line":24,"column":31},"generated":{"line":2,"column":360}},{"source":"../server.js","original":{"line":24,"column":40},"generated":{"line":2,"column":370}},{"source":"../server.js","original":{"line":27,"column":0},"generated":{"line":2,"column":375}},{"source":"../server.js","name":"sessionConfig","original":{"line":27,"column":6},"generated":{"line":2,"column":379}},{"source":"../server.js","original":{"line":27,"column":20},"generated":{"line":2,"column":381}},{"source":"../server.js","name":"cookie","original":{"line":28,"column":4},"generated":{"line":2,"column":382}},{"source":"../server.js","original":{"line":28,"column":11},"generated":{"line":2,"column":389}},{"source":"../server.js","name":"secret","original":{"line":29,"column":4},"generated":{"line":2,"column":392}},{"source":"../server.js","original":{"line":29,"column":12},"generated":{"line":2,"column":399}},{"source":"../server.js","name":"resave","original":{"line":30,"column":4},"generated":{"line":2,"column":414}},{"source":"../server.js","original":{"line":30,"column":12},"generated":{"line":2,"column":422}},{"source":"../server.js","name":"saveUninitialized","original":{"line":31,"column":4},"generated":{"line":2,"column":424}},{"source":"../server.js","original":{"line":31,"column":23},"generated":{"line":2,"column":443}},{"source":"../server.js","name":"app","original":{"line":34,"column":0},"generated":{"line":2,"column":446}},{"source":"../server.js","name":"use","original":{"line":34,"column":4},"generated":{"line":2,"column":448}},{"source":"../server.js","name":"session","original":{"line":34,"column":8},"generated":{"line":2,"column":452}},{"source":"../server.js","name":"sessionConfig","original":{"line":34,"column":16},"generated":{"line":2,"column":454}},{"source":"../server.js","name":"app","original":{"line":38,"column":0},"generated":{"line":2,"column":458}},{"source":"../server.js","name":"use","original":{"line":38,"column":4},"generated":{"line":2,"column":460}},{"source":"../server.js","name":"cors","original":{"line":38,"column":8},"generated":{"line":2,"column":464}},{"source":"../server.js","original":{"line":38,"column":13},"generated":{"line":2,"column":466}},{"source":"../server.js","name":"credentials","original":{"line":39,"column":4},"generated":{"line":2,"column":467}},{"source":"../server.js","original":{"line":39,"column":17},"generated":{"line":2,"column":480}},{"source":"../server.js","name":"app","original":{"line":44,"column":4},"generated":{"line":2,"column":485}},{"source":"../server.js","name":"set","original":{"line":44,"column":8},"generated":{"line":2,"column":487}},{"source":"../server.js","original":{"line":44,"column":12},"generated":{"line":2,"column":491}},{"source":"../server.js","original":{"line":44,"column":27},"generated":{"line":2,"column":505}},{"source":"../server.js","name":"sessionConfig","original":{"line":45,"column":4},"generated":{"line":2,"column":508}},{"source":"../server.js","name":"cookie","original":{"line":45,"column":18},"generated":{"line":2,"column":510}},{"source":"../server.js","name":"secure","original":{"line":45,"column":25},"generated":{"line":2,"column":517}},{"source":"../server.js","original":{"line":45,"column":32},"generated":{"line":2,"column":525}},{"source":"../server.js","name":"buildPath","original":{"line":46,"column":10},"generated":{"line":2,"column":527}},{"source":"../server.js","name":"buildPath","original":{"line":46,"column":10},"generated":{"line":2,"column":531}},{"source":"../server.js","name":"path","original":{"line":46,"column":20},"generated":{"line":2,"column":533}},{"source":"../server.js","name":"join","original":{"line":46,"column":25},"generated":{"line":2,"column":535}},{"source":"../server.js","original":{"line":46,"column":30},"generated":{"line":2,"column":540}},{"source":"../server.js","name":"app","original":{"line":47,"column":4},"generated":{"line":2,"column":549}},{"source":"../server.js","name":"use","original":{"line":47,"column":8},"generated":{"line":2,"column":551}},{"source":"../server.js","name":"express","original":{"line":47,"column":12},"generated":{"line":2,"column":555}},{"source":"../server.js","name":"static","original":{"line":47,"column":20},"generated":{"line":2,"column":557}},{"source":"../server.js","name":"buildPath","original":{"line":47,"column":27},"generated":{"line":2,"column":564}},{"source":"../server.js","name":"app","original":{"line":48,"column":4},"generated":{"line":2,"column":568}},{"source":"../server.js","name":"get","original":{"line":48,"column":8},"generated":{"line":2,"column":570}},{"source":"../server.js","original":{"line":48,"column":12},"generated":{"line":2,"column":574}},{"source":"../server.js","original":{"line":48,"column":17},"generated":{"line":2,"column":578}},{"source":"../server.js","name":"req","original":{"line":48,"column":18},"generated":{"line":2,"column":587}},{"source":"../server.js","name":"res","original":{"line":48,"column":23},"generated":{"line":2,"column":589}},{"source":"../server.js","name":"res","original":{"line":49,"column":8},"generated":{"line":2,"column":592}},{"source":"../server.js","name":"sendFile","original":{"line":49,"column":12},"generated":{"line":2,"column":594}},{"source":"../server.js","name":"path","original":{"line":49,"column":21},"generated":{"line":2,"column":603}},{"source":"../server.js","name":"resolve","original":{"line":49,"column":26},"generated":{"line":2,"column":605}},{"source":"../server.js","name":"__dirname","original":{"line":49,"column":34},"generated":{"line":2,"column":613}},{"source":"../server.js","name":"buildPath","original":{"line":49,"column":45},"generated":{"line":2,"column":615}},{"source":"../server.js","original":{"line":49,"column":56},"generated":{"line":2,"column":617}},{"source":"../server.js","name":"app","original":{"line":55,"column":0},"generated":{"line":2,"column":634}},{"source":"../server.js","name":"use","original":{"line":55,"column":4},"generated":{"line":2,"column":636}},{"source":"../server.js","original":{"line":55,"column":8},"generated":{"line":2,"column":640}},{"source":"../server.js","name":"routeManager","original":{"line":55,"column":19},"generated":{"line":2,"column":651}},{"source":"../server.js","name":"app","original":{"line":58,"column":0},"generated":{"line":2,"column":654}},{"source":"../server.js","name":"on","original":{"line":58,"column":4},"generated":{"line":2,"column":656}},{"source":"../server.js","original":{"line":58,"column":7},"generated":{"line":2,"column":659}},{"source":"../server.js","original":{"line":58,"column":16},"generated":{"line":2,"column":667}},{"source":"../server.js","name":"e","original":{"line":58,"column":17},"generated":{"line":2,"column":676}},{"source":"../server.js","name":"console","original":{"line":59,"column":4},"generated":{"line":2,"column":679}},{"source":"../server.js","name":"log","original":{"line":59,"column":12},"generated":{"line":2,"column":687}},{"source":"../server.js","name":"e","original":{"line":59,"column":16},"generated":{"line":2,"column":691}},{"source":"../server.js","name":"message","original":{"line":59,"column":18},"generated":{"line":2,"column":693}},{"source":"../server.js","name":"app","original":{"line":62,"column":0},"generated":{"line":2,"column":704}},{"source":"../server.js","name":"listen","original":{"line":62,"column":4},"generated":{"line":2,"column":706}},{"source":"../server.js","name":"port","original":{"line":62,"column":11},"generated":{"line":2,"column":713}},{"source":"../server.js","original":{"line":62,"column":17},"generated":{"line":2,"column":715}},{"source":"../server.js","name":"console","original":{"line":63,"column":4},"generated":{"line":2,"column":726}},{"source":"../server.js","name":"log","original":{"line":63,"column":12},"generated":{"line":2,"column":734}},{"source":"../server.js","name":"port","original":{"line":63,"column":53},"generated":{"line":2,"column":738}},{"source":"../server.js","name":"port","original":{"line":63,"column":53},"generated":{"line":2,"column":775}},{"source":"../server.js","name":"port","original":{"line":63,"column":53},"generated":{"line":2,"column":782}}],"sources":{"../server.js":"/*\r\n    * ================== handles server connections =============\r\n */\r\n\r\n\r\nconst express= require(\"express\");\r\nconst app= express();\r\nconst bodyParser= require(\"body-parser\");\r\nconst session= require(\"express-session\");\r\nconst cors = require(\"cors\");\r\nconst path= require(\"path\");\r\n\r\nconst normalizePort=(port, basePort=9000)=> {\r\n    if (isNaN(port) || port <=0)\r\n        return basePort;\r\n    else\r\n        return parseInt(port);\r\n}\r\nconst  port=  normalizePort(process.env.PORT);\r\n/* import route manager to handle routing */\r\nconst routeManager= require(\"./routes/routeManager\");\r\n\r\napp.use(bodyParser.json());\r\napp.use(bodyParser.urlencoded({extended:true}));\r\n\r\n// manage session ------------------------\r\nconst sessionConfig={\r\n    cookie:{},\r\n    secret: 'keyboard cat',\r\n    resave: false,\r\n    saveUninitialized: true,\r\n}\r\n\r\napp.use(session(sessionConfig));\r\n//-----------------------------------------------\r\n\r\n// set cross origin\r\napp.use(cors({\r\n    credentials: false,\r\n    //origin: \"http://localhost:3000\"\r\n}));\r\n\r\nif (process.env.NODE_ENV === \"production\") {\r\n    app.set(\"trust proxy\", 1);\r\n    sessionConfig.cookie.secure=false;\r\n    const buildPath=path.join(\"build\");\r\n    app.use(express.static(buildPath));\r\n    app.get(\"*\", (req, res) => {\r\n        res.sendFile(path.resolve(__dirname, buildPath, \"index.html\"));\r\n        //res.sendFile(path.resolve(buildPath, \"index.html\"));\r\n    });\r\n}\r\n\r\n// api calls router\r\napp.use(\"/process\",routeManager)\r\n\r\n/* handle errors */\r\napp.on(\"error\", (e)=>{\r\n    console.log(e.message);\r\n})\r\n\r\napp.listen(port, ()=>{\r\n    console.log(`Server running. Listening on port ${port}`)\r\n});"},"lineCount":null}},"error":null,"hash":"8a9197a92cf2bcca6e32888a53acc21d","cacheData":{"env":{"NODE_ENV":"production"}}}