{"id":"IreM","dependencies":[{"name":"C:\\xampp\\htdocs\\pet\\src\\server\\.babelrc","includedInParent":true,"mtime":1607404923905},{"name":"C:\\xampp\\htdocs\\pet\\src\\server\\package.json","includedInParent":true,"mtime":1607411524950},{"name":"express","loc":{"line":6,"column":23},"parent":"C:\\xampp\\htdocs\\pet\\src\\server\\src\\server.js","resolved":"C:\\xampp\\htdocs\\pet\\src\\server\\node_modules\\express\\index.js"},{"name":"body-parser","loc":{"line":8,"column":26},"parent":"C:\\xampp\\htdocs\\pet\\src\\server\\src\\server.js","resolved":"C:\\xampp\\htdocs\\pet\\src\\server\\node_modules\\body-parser\\index.js"},{"name":"express-session","loc":{"line":9,"column":23},"parent":"C:\\xampp\\htdocs\\pet\\src\\server\\src\\server.js","resolved":"C:\\xampp\\htdocs\\pet\\src\\server\\node_modules\\express-session\\index.js"},{"name":"cors","loc":{"line":10,"column":21},"parent":"C:\\xampp\\htdocs\\pet\\src\\server\\src\\server.js","resolved":"C:\\xampp\\htdocs\\pet\\src\\server\\node_modules\\cors\\lib\\index.js"},{"name":"path","loc":{"line":11,"column":20},"parent":"C:\\xampp\\htdocs\\pet\\src\\server\\src\\server.js","resolved":"C:\\xampp\\htdocs\\pet\\src\\server\\node_modules\\path-browserify\\index.js"},{"name":"./routes/routeManager","loc":{"line":21,"column":28},"parent":"C:\\xampp\\htdocs\\pet\\src\\server\\src\\server.js","resolved":"C:\\xampp\\htdocs\\pet\\src\\server\\src\\routes\\routeManager.js"}],"generated":{"js":"var __dirname = \"C:\\\\xampp\\\\htdocs\\\\pet\\\\src\\\\server\\\\src\";\nvar e=\"C:\\\\xampp\\\\htdocs\\\\pet\\\\src\\\\server\\\\src\",r=require(\"express\"),s=r(),o=require(\"body-parser\"),n=require(\"express-session\"),i=require(\"cors\"),t=require(\"path\"),u=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e3;return isNaN(e)||e<=0?r:parseInt(e)},c=u(void 0),a=require(\"./routes/routeManager\");s.use(o.json()),s.use(o.urlencoded({extended:!0}));var d={cookie:{},secret:\"keyboard cat\",resave:!1,saveUninitialized:!0};s.use(n(d)),s.use(i({credentials:!1})),s.set(\"trust proxy\",1),d.cookie.secure=!1;var l=t.join(\"build\");s.use(r.static(l)),s.get(\"*\",function(r,s){s.sendFile(t.resolve(e,l,\"index.html\"))}),s.use(\"/process\",a),s.on(\"error\",function(e){console.log(e.message)}),s.listen(c,function(){console.log(\"Server running. Listening on port \".concat(c))});"},"sourceMaps":{"js":{"mappings":[{"source":"../src/server.js","original":{"line":62,"column":0},"generated":{"line":2,"column":0}},{"source":"../src/server.js","original":{"line":62,"column":0},"generated":{"line":2,"column":4}},{"source":"../src/server.js","original":{"line":62,"column":0},"generated":{"line":2,"column":6}},{"source":"../src/server.js","name":"express","original":{"line":6,"column":6},"generated":{"line":2,"column":49}},{"source":"../src/server.js","name":"require","original":{"line":6,"column":15},"generated":{"line":2,"column":51}},{"source":"../src/server.js","original":{"line":6,"column":23},"generated":{"line":2,"column":59}},{"source":"../src/server.js","name":"app","original":{"line":7,"column":6},"generated":{"line":2,"column":70}},{"source":"../src/server.js","name":"express","original":{"line":7,"column":11},"generated":{"line":2,"column":72}},{"source":"../src/server.js","name":"bodyParser","original":{"line":8,"column":6},"generated":{"line":2,"column":76}},{"source":"../src/server.js","name":"require","original":{"line":8,"column":18},"generated":{"line":2,"column":78}},{"source":"../src/server.js","original":{"line":8,"column":26},"generated":{"line":2,"column":86}},{"source":"../src/server.js","name":"session","original":{"line":9,"column":6},"generated":{"line":2,"column":101}},{"source":"../src/server.js","name":"require","original":{"line":9,"column":15},"generated":{"line":2,"column":103}},{"source":"../src/server.js","original":{"line":9,"column":23},"generated":{"line":2,"column":111}},{"source":"../src/server.js","name":"cors","original":{"line":10,"column":6},"generated":{"line":2,"column":130}},{"source":"../src/server.js","name":"require","original":{"line":10,"column":13},"generated":{"line":2,"column":132}},{"source":"../src/server.js","original":{"line":10,"column":21},"generated":{"line":2,"column":140}},{"source":"../src/server.js","name":"path","original":{"line":11,"column":6},"generated":{"line":2,"column":148}},{"source":"../src/server.js","name":"require","original":{"line":11,"column":12},"generated":{"line":2,"column":150}},{"source":"../src/server.js","original":{"line":11,"column":20},"generated":{"line":2,"column":158}},{"source":"../src/server.js","name":"normalizePort","original":{"line":13,"column":6},"generated":{"line":2,"column":166}},{"source":"../src/server.js","original":{"line":13,"column":20},"generated":{"line":2,"column":168}},{"source":"../src/server.js","name":"port","original":{"line":13,"column":21},"generated":{"line":2,"column":177}},{"source":"../src/server.js","name":"basePort","original":{"line":13,"column":27},"generated":{"line":2,"column":180}},{"source":"../src/server.js","name":"basePort","original":{"line":13,"column":27},"generated":{"line":2,"column":184}},{"source":"../src/server.js","original":{"line":13,"column":36},"generated":{"line":2,"column":186}},{"source":"../src/server.js","original":{"line":13,"column":36},"generated":{"line":2,"column":196}},{"source":"../src/server.js","original":{"line":13,"column":36},"generated":{"line":2,"column":203}},{"source":"../src/server.js","original":{"line":13,"column":36},"generated":{"line":2,"column":211}},{"source":"../src/server.js","original":{"line":13,"column":36},"generated":{"line":2,"column":215}},{"source":"../src/server.js","original":{"line":13,"column":36},"generated":{"line":2,"column":225}},{"source":"../src/server.js","original":{"line":13,"column":36},"generated":{"line":2,"column":228}},{"source":"../src/server.js","original":{"line":13,"column":36},"generated":{"line":2,"column":238}},{"source":"../src/server.js","original":{"line":13,"column":36},"generated":{"line":2,"column":241}},{"source":"../src/server.js","name":"isNaN","original":{"line":14,"column":8},"generated":{"line":2,"column":245}},{"source":"../src/server.js","name":"isNaN","original":{"line":14,"column":8},"generated":{"line":2,"column":252}},{"source":"../src/server.js","name":"port","original":{"line":14,"column":14},"generated":{"line":2,"column":258}},{"source":"../src/server.js","name":"port","original":{"line":14,"column":23},"generated":{"line":2,"column":262}},{"source":"../src/server.js","original":{"line":14,"column":30},"generated":{"line":2,"column":265}},{"source":"../src/server.js","name":"basePort","original":{"line":15,"column":15},"generated":{"line":2,"column":267}},{"source":"../src/server.js","name":"parseInt","original":{"line":17,"column":15},"generated":{"line":2,"column":269}},{"source":"../src/server.js","name":"port","original":{"line":17,"column":24},"generated":{"line":2,"column":278}},{"source":"../src/server.js","name":"port","original":{"line":19,"column":7},"generated":{"line":2,"column":282}},{"source":"../src/server.js","name":"normalizePort","original":{"line":19,"column":14},"generated":{"line":2,"column":284}},{"source":"../src/server.js","original":{"line":19,"column":0},"generated":{"line":2,"column":291}},{"source":"../src/server.js","name":"routeManager","original":{"line":21,"column":6},"generated":{"line":2,"column":294}},{"source":"../src/server.js","name":"require","original":{"line":21,"column":20},"generated":{"line":2,"column":296}},{"source":"../src/server.js","original":{"line":21,"column":28},"generated":{"line":2,"column":304}},{"source":"../src/server.js","name":"app","original":{"line":23,"column":0},"generated":{"line":2,"column":329}},{"source":"../src/server.js","name":"use","original":{"line":23,"column":4},"generated":{"line":2,"column":331}},{"source":"../src/server.js","name":"bodyParser","original":{"line":23,"column":8},"generated":{"line":2,"column":335}},{"source":"../src/server.js","name":"json","original":{"line":23,"column":19},"generated":{"line":2,"column":337}},{"source":"../src/server.js","name":"app","original":{"line":24,"column":0},"generated":{"line":2,"column":345}},{"source":"../src/server.js","name":"use","original":{"line":24,"column":4},"generated":{"line":2,"column":347}},{"source":"../src/server.js","name":"bodyParser","original":{"line":24,"column":8},"generated":{"line":2,"column":351}},{"source":"../src/server.js","name":"urlencoded","original":{"line":24,"column":19},"generated":{"line":2,"column":353}},{"source":"../src/server.js","original":{"line":24,"column":30},"generated":{"line":2,"column":364}},{"source":"../src/server.js","name":"extended","original":{"line":24,"column":31},"generated":{"line":2,"column":365}},{"source":"../src/server.js","original":{"line":24,"column":40},"generated":{"line":2,"column":375}},{"source":"../src/server.js","original":{"line":27,"column":0},"generated":{"line":2,"column":380}},{"source":"../src/server.js","name":"sessionConfig","original":{"line":27,"column":6},"generated":{"line":2,"column":384}},{"source":"../src/server.js","original":{"line":27,"column":20},"generated":{"line":2,"column":386}},{"source":"../src/server.js","name":"cookie","original":{"line":28,"column":4},"generated":{"line":2,"column":387}},{"source":"../src/server.js","original":{"line":28,"column":11},"generated":{"line":2,"column":394}},{"source":"../src/server.js","name":"secret","original":{"line":29,"column":4},"generated":{"line":2,"column":397}},{"source":"../src/server.js","original":{"line":29,"column":12},"generated":{"line":2,"column":404}},{"source":"../src/server.js","name":"resave","original":{"line":30,"column":4},"generated":{"line":2,"column":419}},{"source":"../src/server.js","original":{"line":30,"column":12},"generated":{"line":2,"column":427}},{"source":"../src/server.js","name":"saveUninitialized","original":{"line":31,"column":4},"generated":{"line":2,"column":429}},{"source":"../src/server.js","original":{"line":31,"column":23},"generated":{"line":2,"column":448}},{"source":"../src/server.js","name":"app","original":{"line":34,"column":0},"generated":{"line":2,"column":451}},{"source":"../src/server.js","name":"use","original":{"line":34,"column":4},"generated":{"line":2,"column":453}},{"source":"../src/server.js","name":"session","original":{"line":34,"column":8},"generated":{"line":2,"column":457}},{"source":"../src/server.js","name":"sessionConfig","original":{"line":34,"column":16},"generated":{"line":2,"column":459}},{"source":"../src/server.js","name":"app","original":{"line":38,"column":0},"generated":{"line":2,"column":463}},{"source":"../src/server.js","name":"use","original":{"line":38,"column":4},"generated":{"line":2,"column":465}},{"source":"../src/server.js","name":"cors","original":{"line":38,"column":8},"generated":{"line":2,"column":469}},{"source":"../src/server.js","original":{"line":38,"column":13},"generated":{"line":2,"column":471}},{"source":"../src/server.js","name":"credentials","original":{"line":39,"column":4},"generated":{"line":2,"column":472}},{"source":"../src/server.js","original":{"line":39,"column":17},"generated":{"line":2,"column":485}},{"source":"../src/server.js","name":"app","original":{"line":44,"column":4},"generated":{"line":2,"column":490}},{"source":"../src/server.js","name":"set","original":{"line":44,"column":8},"generated":{"line":2,"column":492}},{"source":"../src/server.js","original":{"line":44,"column":12},"generated":{"line":2,"column":496}},{"source":"../src/server.js","original":{"line":44,"column":27},"generated":{"line":2,"column":510}},{"source":"../src/server.js","name":"sessionConfig","original":{"line":45,"column":4},"generated":{"line":2,"column":513}},{"source":"../src/server.js","name":"cookie","original":{"line":45,"column":18},"generated":{"line":2,"column":515}},{"source":"../src/server.js","name":"secure","original":{"line":45,"column":25},"generated":{"line":2,"column":522}},{"source":"../src/server.js","original":{"line":45,"column":32},"generated":{"line":2,"column":530}},{"source":"../src/server.js","name":"buildPath","original":{"line":46,"column":10},"generated":{"line":2,"column":532}},{"source":"../src/server.js","name":"buildPath","original":{"line":46,"column":10},"generated":{"line":2,"column":536}},{"source":"../src/server.js","name":"path","original":{"line":46,"column":20},"generated":{"line":2,"column":538}},{"source":"../src/server.js","name":"join","original":{"line":46,"column":25},"generated":{"line":2,"column":540}},{"source":"../src/server.js","original":{"line":46,"column":30},"generated":{"line":2,"column":545}},{"source":"../src/server.js","name":"app","original":{"line":47,"column":4},"generated":{"line":2,"column":554}},{"source":"../src/server.js","name":"use","original":{"line":47,"column":8},"generated":{"line":2,"column":556}},{"source":"../src/server.js","name":"express","original":{"line":47,"column":12},"generated":{"line":2,"column":560}},{"source":"../src/server.js","name":"static","original":{"line":47,"column":20},"generated":{"line":2,"column":562}},{"source":"../src/server.js","name":"buildPath","original":{"line":47,"column":27},"generated":{"line":2,"column":569}},{"source":"../src/server.js","name":"app","original":{"line":48,"column":4},"generated":{"line":2,"column":573}},{"source":"../src/server.js","name":"get","original":{"line":48,"column":8},"generated":{"line":2,"column":575}},{"source":"../src/server.js","original":{"line":48,"column":12},"generated":{"line":2,"column":579}},{"source":"../src/server.js","original":{"line":48,"column":17},"generated":{"line":2,"column":583}},{"source":"../src/server.js","name":"req","original":{"line":48,"column":18},"generated":{"line":2,"column":592}},{"source":"../src/server.js","name":"res","original":{"line":48,"column":23},"generated":{"line":2,"column":594}},{"source":"../src/server.js","name":"res","original":{"line":49,"column":8},"generated":{"line":2,"column":597}},{"source":"../src/server.js","name":"sendFile","original":{"line":49,"column":12},"generated":{"line":2,"column":599}},{"source":"../src/server.js","name":"path","original":{"line":49,"column":21},"generated":{"line":2,"column":608}},{"source":"../src/server.js","name":"resolve","original":{"line":49,"column":26},"generated":{"line":2,"column":610}},{"source":"../src/server.js","name":"__dirname","original":{"line":49,"column":34},"generated":{"line":2,"column":618}},{"source":"../src/server.js","name":"buildPath","original":{"line":49,"column":45},"generated":{"line":2,"column":620}},{"source":"../src/server.js","original":{"line":49,"column":56},"generated":{"line":2,"column":622}},{"source":"../src/server.js","name":"app","original":{"line":55,"column":0},"generated":{"line":2,"column":639}},{"source":"../src/server.js","name":"use","original":{"line":55,"column":4},"generated":{"line":2,"column":641}},{"source":"../src/server.js","original":{"line":55,"column":8},"generated":{"line":2,"column":645}},{"source":"../src/server.js","name":"routeManager","original":{"line":55,"column":19},"generated":{"line":2,"column":656}},{"source":"../src/server.js","name":"app","original":{"line":58,"column":0},"generated":{"line":2,"column":659}},{"source":"../src/server.js","name":"on","original":{"line":58,"column":4},"generated":{"line":2,"column":661}},{"source":"../src/server.js","original":{"line":58,"column":7},"generated":{"line":2,"column":664}},{"source":"../src/server.js","original":{"line":58,"column":16},"generated":{"line":2,"column":672}},{"source":"../src/server.js","name":"e","original":{"line":58,"column":17},"generated":{"line":2,"column":681}},{"source":"../src/server.js","name":"console","original":{"line":59,"column":4},"generated":{"line":2,"column":684}},{"source":"../src/server.js","name":"log","original":{"line":59,"column":12},"generated":{"line":2,"column":692}},{"source":"../src/server.js","name":"e","original":{"line":59,"column":16},"generated":{"line":2,"column":696}},{"source":"../src/server.js","name":"message","original":{"line":59,"column":18},"generated":{"line":2,"column":698}},{"source":"../src/server.js","name":"app","original":{"line":62,"column":0},"generated":{"line":2,"column":709}},{"source":"../src/server.js","name":"listen","original":{"line":62,"column":4},"generated":{"line":2,"column":711}},{"source":"../src/server.js","name":"port","original":{"line":62,"column":11},"generated":{"line":2,"column":718}},{"source":"../src/server.js","original":{"line":62,"column":17},"generated":{"line":2,"column":720}},{"source":"../src/server.js","name":"console","original":{"line":63,"column":4},"generated":{"line":2,"column":731}},{"source":"../src/server.js","name":"log","original":{"line":63,"column":12},"generated":{"line":2,"column":739}},{"source":"../src/server.js","name":"port","original":{"line":63,"column":53},"generated":{"line":2,"column":743}},{"source":"../src/server.js","name":"port","original":{"line":63,"column":53},"generated":{"line":2,"column":780}},{"source":"../src/server.js","name":"port","original":{"line":63,"column":53},"generated":{"line":2,"column":787}}],"sources":{"../src/server.js":"/*\r\n    * ================== handles server connections =============\r\n */\r\n\r\n\r\nconst express= require(\"express\");\r\nconst app= express();\r\nconst bodyParser= require(\"body-parser\");\r\nconst session= require(\"express-session\");\r\nconst cors = require(\"cors\");\r\nconst path= require(\"path\");\r\n\r\nconst normalizePort=(port, basePort=9000)=> {\r\n    if (isNaN(port) || port <=0)\r\n        return basePort;\r\n    else\r\n        return parseInt(port);\r\n}\r\nconst  port=  normalizePort(process.env.PORT);\r\n/* import route manager to handle routing */\r\nconst routeManager= require(\"./routes/routeManager\");\r\n\r\napp.use(bodyParser.json());\r\napp.use(bodyParser.urlencoded({extended:true}));\r\n\r\n// manage session ------------------------\r\nconst sessionConfig={\r\n    cookie:{},\r\n    secret: 'keyboard cat',\r\n    resave: false,\r\n    saveUninitialized: true,\r\n}\r\n\r\napp.use(session(sessionConfig));\r\n//-----------------------------------------------\r\n\r\n// set cross origin\r\napp.use(cors({\r\n    credentials: false,\r\n    //origin: \"http://localhost:3000\"\r\n}));\r\n\r\nif (process.env.NODE_ENV === \"production\") {\r\n    app.set(\"trust proxy\", 1);\r\n    sessionConfig.cookie.secure=false;\r\n    const buildPath=path.join(\"build\");\r\n    app.use(express.static(buildPath));\r\n    app.get(\"*\", (req, res) => {\r\n        res.sendFile(path.resolve(__dirname, buildPath, \"index.html\"));\r\n        //res.sendFile(path.resolve(buildPath, \"index.html\"));\r\n    });\r\n}\r\n\r\n// api calls router\r\napp.use(\"/process\",routeManager)\r\n\r\n/* handle errors */\r\napp.on(\"error\", (e)=>{\r\n    console.log(e.message);\r\n})\r\n\r\napp.listen(port, ()=>{\r\n    console.log(`Server running. Listening on port ${port}`)\r\n});"},"lineCount":null}},"error":null,"hash":"9e0b18f55e34fda9c6b346e2a87bbe4e","cacheData":{"env":{"NODE_ENV":"production"}}}