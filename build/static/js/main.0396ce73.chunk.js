(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{30:function(t,e,s){},37:function(t,e,s){"use strict";s.r(e);var n=s(0),a=s(1),o=s.n(a),c=s(23),i=s.n(c),l=(s(30),s(7)),r=s(2),d=s(10),u=s(11),b=s(13),h=s(12),m=function(t){Object(b.a)(s,t);var e=Object(h.a)(s);function s(t){var a;return Object(d.a)(this,s),(a=e.call(this,t)).setPopUp=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===e?a.setState({popUp:t}):setTimeout((function(){a.setState({popUp:t})}),e)},a.disableButton=function(t){a.setState({disabledButton:t})},a.setMessage=function(t){a.setState({actionMsg:t})},a.createAccount=function(){a.disableButton(!0),a.setPopUp("visible");var t=!1,e=document.getElementById("user").value,s=document.getElementById("email").value,n=document.getElementById("password").value,o=document.getElementById("confirm-password").value,c=Math.random();if(""==n&&(a.setMessage("Password cannot be empty"),t=!0),n!==o&&(a.setMessage("Confirm password not matching"),t=!0),""!=s&&-1!==s.indexOf("@")&&-1!==s.indexOf(".")||(a.setMessage("Email empty or not valid"),t=!0),""==e&&(a.setMessage("Username cannot be empty"),t=!0),1==t)return a.setPopUp("hidden",2e3),a.disableButton(!1),!1;a.setMessage(a.state.actionMsg);var i="".concat(a.state.actionUrl,"?user=").concat(e,"&password=").concat(n,"&password-confirm=").concat(o,"&email=").concat(s,"&rnd=").concat(c);fetch(i).then((function(t){return t.json()})).then((function(t){console.log(t);var e=t.status,s=t.msg;!0===e?(a.setMessage(s),document.location=a.state.indexPath):(a.setMessage(s),a.setPopUp("hidden",2e3),a.disableButton(!1))}))},a.formHtml=function(){return Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"form-holder",children:Object(n.jsx)("div",{className:"form-content",children:Object(n.jsxs)("div",{className:"form-items",id:"register-form-cont",children:[Object(n.jsx)("h3",{children:"Create an account"}),Object(n.jsx)("p",{children:"Please fill out form"}),Object(n.jsxs)("div",{className:"page-links",children:[Object(n.jsx)(l.b,{to:"/login",children:"Login"}),Object(n.jsx)(l.b,{className:"active",to:"/register",children:"Register"})]}),Object(n.jsxs)("form",{id:"login-form",method:"post",action:a.state.indexPath,onSubmit:function(t){return t.preventDefault(),!1},children:[Object(n.jsx)("div",{className:"modal-backdrop",style:{visibility:a.state.popUp},children:Object(n.jsxs)("div",{className:"modal-content modal_content",children:[Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsx)("div",{className:"loader06"}),Object(n.jsx)("div",{className:"text-primary",children:a.state.actionMsg})]}),Object(n.jsx)("div",{className:"modal-footer",children:Object(n.jsx)("button",{className:"ibtn",type:"button",onClick:function(){a.setPopUp("hidden"),a.disableButton(!1)},children:"Close"})})]})}),Object(n.jsx)("input",{className:a.state.styles.formControl,type:"text",name:"user",id:"user",placeholder:"Choose a username",required:!0}),Object(n.jsx)("input",{className:a.state.styles.formControl,type:"text",name:"email",id:"email",placeholder:"sample@mail.com"}),Object(n.jsx)("input",{className:a.state.styles.formControl,type:"password",name:"password",id:"password",placeholder:"Enter password"}),Object(n.jsx)("input",{className:a.state.styles.formControl,type:"password",name:"confirm-password",id:"confirm-password",placeholder:"Confirm password",onKeyUp:function(t){13===parseInt(t.keyCode)&&a.createAccount()}}),Object(n.jsxs)("div",{className:a.state.styles.formButton,children:[Object(n.jsx)("button",{id:"submit",type:"button",className:a.state.styles.formIbtn,disabled:a.state.disabledButton,onClick:function(){return a.createAccount()},children:"Create Account"}),Object(n.jsx)("button",{className:"ibtn",type:"BUTTON",id:"meet-submit",style:{visibility:"hidden"},children:" Submit"}),Object(n.jsx)("button",{id:"meet-submit",type:"submit",style:{visibility:"hidden"}})]})]})]})})})})},a.state={disabledButton:!1,popUp:"hidden",meetContState:"hidden",loginFormState:"visible",actionMsg:"Creating account. Please wait...",actionUrl:"http://localhost:9000/process/register",indexPath:"/login",phpSelf:"/register",styles:{formControl:"form-control",formButton:"form-button",formIbtn:"ibtn"}},a}return Object(u.a)(s,[{key:"render",value:function(){return this.formHtml()}}]),s}(o.a.Component),j=s(20),p=s(15),f=s.n(p),g=s(21),v=s(8),O={showPopUpWindow:function(t,e){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Close",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"fa fa-arrow-left",c=Object(n.jsxs)("div",{className:"modal-backdrop modal-backdrop_full",children:[Object(n.jsxs)("div",{className:"modal-footer",children:[Object(n.jsx)("button",{className:"ibtn float-left",type:"button",onClick:function(){},children:Object(n.jsx)("i",{className:o})}),Object(n.jsx)("button",{className:"ibtn",type:"button",onClick:function(){x(t)},children:a})]}),Object(n.jsx)("div",{className:"modal-content modal-content-full",children:Object(n.jsx)("div",{className:"modal-body",children:e})})]});t.setState({popUpWindow:c},(function(){return null!==s&&s(),c}))},closePopUpWindow:function(t){return x(t)},setMessage:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t.setState({actionMsg:e},(function(){!0===n&&setTimeout((function(){t.setState({actionMsg:null})}),s)}))},clearMessage:function(t){t.setState({actionMsg:null})}},x=function(t){t.setState({popUpWindow:null})},y=O,N=function(t){Object(b.a)(s,t);var e=Object(h.a)(s);function s(t){var a;return Object(d.a)(this,s),(a=e.call(this,t)).setPopUp=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===e?a.setState({popUp:t}):setTimeout((function(){a.setState({popUp:t})}),e),"hidden"==t&&a.setState({actionMsg:null})},a.disableButton=function(t){a.setState({disabledButton:t})},a.setMessage=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a.setState({actionMsg:t},(function(){return null!==e&&"function"===typeof e?e():null}))},a.getSubList=function(){var t=Math.random(),e="".concat(a.state.actionUrlSubList,"?rnd=").concat(t);fetch(e).then((function(t){return t.json()})).then((function(t){console.log(t);var e=t.status,s=t.msg,o=t.content;if(1==e){var c=o.map((function(t){return Object(n.jsxs)("div",{id:t.id,className:"dashboard-list-cont",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{className:"title",children:t.channel}),Object(n.jsx)("i",{className:"dashboard-list-delete icon-030 ",onClick:function(){a.deleteSub(t.user_id,t.channel_id)}})]}),Object(n.jsxs)("div",{children:["Channel: ",t.channel]})]},t.id)}));a.setState({subList:c})}else{var i=Object(n.jsx)("div",{className:"dashboard-list-cont",children:Object(n.jsx)("div",{children:s})});a.setState({subList:i})}}))},a.getChannelList=function(){var t=Math.random(),e="".concat(a.state.actionUrlChannelList,"?rnd=").concat(t);fetch(e).then((function(t){return t.json()})).then((function(t){console.log(t);var e=t.status,s=t.msg,o=t.content;if(1==e){var c=o.map((function(t){return Object(n.jsxs)("div",{id:t.id,className:"dashboard-list-cont",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{className:"title",children:t.channel}),Object(n.jsx)("i",{className:"dashboard-list-delete icon-040",onClick:function(){a.subscribe(t.id,t.channel)}})]}),Object(n.jsx)("div",{children:t.des})]},t.id)}));a.setState({channelList:c})}else{var i=Object(n.jsx)("div",{className:"dashboard-list-cont",children:Object(n.jsx)("div",{children:s})});a.setState({channelList:i})}}))},a.logoutUser=function(){var t=Math.random();y.setMessage(Object(v.a)(a),Object(n.jsx)("div",{className:"alert alert-info",children:"Signing out..."}));var e="".concat(a.state.actionUrlLogout,"?rnd=").concat(t);fetch(e).then((function(t){return t.json()})).then((function(t){console.log(t);var e=t.status,s=t.status;!0===e?(a.setMessage(s),a.setPopUp("hidden",2e3),a.takeToLogin()):(a.setMessage(s),a.setPopUp("hidden",2e3),a.disableButton(!1))}))},a.loginValidate=Object(g.a)(f.a.mark((function t(){var e,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Math.random(),s="".concat(a.state.actionUrlLoginValidate,"?rnd=").concat(e),t.next=4,fetch(s,{method:"get",mode:"cors",credentials:"include"}).then((function(t){return t.json()})).then((function(t){console.log(t);var e=t.status;t.status;!1===e&&a.takeToLogin()}));case 4:case"end":return t.stop()}}),t)}))),a.takeToLogin=function(){document.getElementById("link-to-login").submit(),document.location.href=a.state.indexPath},a.deleteSub=function(t,e){var s=Math.random();y.setMessage(Object(v.a)(a),Object(n.jsx)("div",{className:"alert alert-info",children:"Unsubscribing, please wait..."}));var o="".concat(a.state.actionUrlDeleteSub,"?user-id=").concat(t,"&channel-id=").concat(e,"&rnd=").concat(s);fetch(o).then((function(t){return t.json()})).then((function(t){console.log(t);var e=t.status,s=t.msg;!0===e?(y.setMessage(Object(v.a)(a),Object(n.jsx)("div",{className:"alert alert-success",children:s})),a.getSubList(),a.getChannelList()):y.setMessage(Object(v.a)(a),Object(n.jsx)("div",{className:"alert alert-danger",children:s}))}))},a.subscribe=function(t,e){var s=Math.random();y.setMessage(Object(v.a)(a),Object(n.jsxs)("div",{className:"alert alert-info",children:["Subscribing to ",e,", please wait..."]}));var o="".concat(a.state.actionUrlSub,"?channel-id=").concat(t,"&channel=").concat(e,"&rnd=").concat(s);fetch(o).then((function(t){return t.json()})).then((function(t){console.log(t);var e=t.status,s=t.msg;!0===e?(y.setMessage(Object(v.a)(a),Object(n.jsx)("div",{className:"alert alert-success",children:s})),a.getSubList(),a.getChannelList()):y.setMessage(Object(v.a)(a),Object(n.jsx)("div",{className:"alert alert-danger",children:s}))}))},a.formHtml=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Dashboard",s=Object(n.jsxs)("aside",{className:"dashboard-header",children:[Object(n.jsx)("div",{style:{color:"#ffff",fontSize:"18pt",marginRight:"auto"},children:e}),Object(n.jsx)("div",{style:{color:"#ffff",marginLeft:"auto"},onClick:function(){a.logoutUser()},children:Object(n.jsx)("i",{className:" dashboard-logout icon-086"})}),Object(n.jsx)("form",{method:"post",style:{display:"none",visibility:"hidden"},id:"link-to-login",action:"/login",children:Object(n.jsx)("input",{type:"hidden",id:"link-login-token",value:!1})})]}),o=Object(n.jsxs)("div",{className:"room",children:[Object(n.jsxs)("section",{id:"room-header",className:"room-header",children:[a.state.actionMsg,a.state.popUpWindow,s]}),Object(n.jsxs)("section",(t={className:"room-body-dashboard"},Object(j.a)(t,"className","dashboard-content"),Object(j.a)(t,"children",[Object(n.jsxs)("div",{className:"dashboard-list-cont-no-effect col-sm-6 ",id:"room-list",children:[Object(n.jsx)("div",{className:"dashboard-list-cont-no-effect dashboard-list-header",children:"Your Channels"}),a.state.subList]}),Object(n.jsxs)("div",{className:"dashboard-list-cont-no-effect col-sm-6 ",id:"subscription-list",children:[Object(n.jsx)("div",{className:"dashboard-list-cont-no-effect dashboard-list-header",children:"Available Channels"}),a.state.channelList]})]),t)),Object(n.jsx)("section",{className:"room-footer-dashboard"})]});return o},a.componentWillMount=Object(g.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),a.componentDidMount=function(){a.getSubList(),a.getChannelList()},a.state={disabledButton:!1,popUp:"hidden",popUpContent:null,popUpWindow:null,actionMsg:null,confirmDeleteMsg:"Are you sure?",actionUrlSubList:"http://localhost:3000/process/sub-list",actionUrlSub:"http://localhost:3000/process/sub",actionUrlChannelList:"http://localhost:3000/process/channel-list",actionUrlLogout:"http://localhost:3000/process/logout",actionUrlDeleteSub:"http://localhost:3000/process/sub-delete",actionUrlLoginValidate:"http://localhost:3000/process/login-validate",actionUrlUser:"http://localhost:3000/process/user",indexPath:"/",defaultUserRole:"admin",subList:[Object(n.jsx)("div",{style:{marginLeft:"50%"},className:"loader09"})],channelList:[Object(n.jsx)("div",{style:{marginLeft:"50%"},className:"loader09"})],styles:{formControl:"form-control",formButton:"form-button",formIbtn:"ibtn"},pageLoader:Object(n.jsx)("div",{className:"loader09"})},a.loginValidate(),a}return Object(u.a)(s,[{key:"render",value:function(){return this.formHtml()}}]),s}(o.a.Component),U=function(t){Object(b.a)(s,t);var e=Object(h.a)(s);function s(t){var a;Object(d.a)(this,s),(a=e.call(this,t)).setPopUp=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===e?a.setState({popUp:t}):setTimeout((function(){a.setState({popUp:t})}),e)},a.disableButton=function(t){a.setState({disabledButton:t})},a.setMessage=function(t){a.setState({actionMsg:t})},a.loginAccount=function(){a.disableButton(!0),a.setPopUp("visible");var t=!1,e=document.getElementById("user").value,s=document.getElementById("password").value,n=Math.random();if(""==s&&(a.setMessage("Password cannot be empty"),t=!0),""==e&&(a.setMessage("Username cannot be empty"),t=!0),1==t)return a.setPopUp("hidden",2e3),a.disableButton(!1),!1;a.setMessage(a.state.actionMsg);var o="".concat(a.state.actionUrl,"?user=").concat(e,"&password=").concat(s,"&rnd=").concat(n);fetch(o,{method:"get",mode:"cors",credentials:"include"}).then((function(t){return t.json()})).then((function(t){console.log(t);var e=t.status,s=t.msg;!0===e?(a.setMessage(s),document.location="".concat(a.state.indexPath,"?").concat(e)):(a.setMessage(s),a.setPopUp("hidden",2e3),a.disableButton(!1))}))},a.formHtml=function(){return Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"form-holder",children:Object(n.jsx)("div",{className:"form-content",children:Object(n.jsxs)("div",{className:"form-items",children:[Object(n.jsx)("h3",{children:"An amazing pet life "}),Object(n.jsx)("p",{children:"Login to your account"}),Object(n.jsxs)("div",{className:"page-links",children:[Object(n.jsx)(l.b,{className:"active",id:"link-to-login",to:"/login",children:"Login"}),Object(n.jsx)(l.b,{to:"/register",children:"Register"}),Object(n.jsx)(l.b,{style:{display:"none",visibility:"hidden"},id:"link-to-dashboard",to:"/dashboard",children:"Dashboard"})]}),Object(n.jsxs)("form",{id:"login-form",onSubmit:function(t){t.preventDefault()},children:[Object(n.jsx)("div",{className:"modal-backdrop",style:{visibility:a.state.popUp},children:Object(n.jsxs)("div",{className:"modal-content modal_content",children:[Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsx)("div",{className:"loader06"}),Object(n.jsx)("div",{className:"text-primary",children:a.state.actionMsg})]}),Object(n.jsx)("div",{className:"modal-footer",children:Object(n.jsx)("button",{className:"ibtn",type:"button",onClick:function(){a.setPopUp("hidden"),a.disableButton(!1)},children:"Close"})})]})}),Object(n.jsx)("input",{className:a.state.styles.formControl,type:"text",name:"user",id:"user",placeholder:"Username",required:!0}),Object(n.jsx)("input",{className:a.state.styles.formControl,type:"password",name:"password",id:"password",placeholder:"Enter password",onKeyUp:function(t){13===parseInt(t.keyCode)&&a.loginAccount()}}),Object(n.jsxs)("div",{className:a.state.styles.formButton,children:[Object(n.jsx)("button",{id:"submit",type:"button",className:a.state.styles.formIbtn,disabled:a.state.disabledButton,onClick:function(){return a.loginAccount()},children:"Login"}),Object(n.jsx)("button",{className:"ibtn",type:"submit",id:"meet-submit",style:{visibility:"hidden"},children:" Submit"}),Object(n.jsx)("button",{id:"meet-submit",type:"submit",style:{visibility:"hidden"}})]})]})]})})}),Object(n.jsxs)("form",{method:"post",style:{display:"none",visibility:"hidden"},id:"dashboard-login-form",action:"/dashboard/",children:[Object(n.jsx)("input",{type:"hidden",id:"dashboard-login-token",defaultValue:!1}),Object(n.jsx)("input",{type:"submit",id:"dashboard-login-button"})]})]})};return a.state={disabledButton:!1,popUp:"hidden",meetContState:"hidden",loginFormState:"visible",actionMsg:"Logging in. Please wait...",actionUrl:"http://localhost:".concat(3e3,"/process/login"),indexPath:"/dashboard",registerPath:"/register",phpSelf:"/",styles:{formControl:"form-control",formButton:"form-button",formIbtn:"ibtn"}},a}return Object(u.a)(s,[{key:"render",value:function(){return this.formHtml()}}]),s}(o.a.Component);var M=function(){return Object(n.jsx)(l.a,{id:"app",className:"container-fluid",children:Object(n.jsxs)(r.c,{children:[Object(n.jsx)(r.a,{exact:!0,path:"/",children:Object(n.jsx)(U,{})}),Object(n.jsx)(r.a,{exact:!0,path:"/login",children:Object(n.jsx)(U,{})}),Object(n.jsx)(r.a,{exact:!0,path:"/register",children:Object(n.jsx)(m,{})}),Object(n.jsx)(r.a,{exact:!0,path:"/dashboard",children:Object(n.jsx)(N,{})})]})})},S=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,38)).then((function(e){var s=e.getCLS,n=e.getFID,a=e.getFCP,o=e.getLCP,c=e.getTTFB;s(t),n(t),a(t),o(t),c(t)}))};i.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(M,{})}),document.getElementById("root")),S(console.log)}},[[37,1,2]]]);
//# sourceMappingURL=main.0396ce73.chunk.js.map